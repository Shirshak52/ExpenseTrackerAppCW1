@page "/"
@layout Layout.AuthLayout
@using ExpenseTracker.Models
@using ExpenseTracker.Services
@using Microsoft.AspNetCore.Components.Forms
@using MudBlazor
@inject IAuthService AuthService
@inject NavigationManager NavigationManager



@if (isNewUser)
{
    <!-- If user does not exist (i.e., a new user) show Signup form -->
    <SignupForm />
}
else
{
    <!-- If user exists, show Login form -->
    <LoginForm />
}


@code {
    private bool isNewUser;

    // Check if a user already exists
    protected override void OnInitialized()
    {
        isNewUser = !AuthService.UserExists();
    }
}
